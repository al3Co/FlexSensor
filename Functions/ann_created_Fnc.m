function [Y,Xf,Af] = ann_created_Fnc(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 09-Jun-2018 11:05:21.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx6 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx4 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0];
x1_step1.gain = [4;6.89655172413793;2.1505376344086;1.78571428571429;1.63934426229508;4.65116279069768];
x1_step1.ymin = -1;

% Layer 1
b1 = [-6.658948605991553471;-3.1238980199453165731;4.6535261146902833218;-7.7109041908780993069;-4.032507271557067341;6.3944489786655500652;2.6758752287907996426;-4.4372929219456498373;-6.8646610843502609001;5.2628376678832609059;-3.777698464231308062;1.8488196345472407423;4.8572955003027367127;3.457810283630382564;-3.0241684482490418517;2.8723649607868830813;-0.19928049020612795261;1.8951226483586007809;-0.8235132911502168751;2.0188498202701055106;1.6849728156818226665;-0.10377380340941555481;8.4746256182212800212;-2.5894264478692190501;-3.1381319994417853358;1.0040816085062573837;1.9329782992205890579;5.4729581574994758952;3.8585459020889274484;-1.9898004426274367162;0.96314330588716845494;-6.542371841859978332;-3.9819795429632689476;2.2489934110564786529;-1.1536499049860131638;1.9211292829481980693;3.8702069410103128178;1.125916016090149574;2.3201032568949062629;1.3660237488009785434;0.6818682204477579667;0.6690044478096296432;0.31502102483585597836;-0.25088308768306788465;-0.55127693208723194118;1.9241949370104065586;-0.59408141793478352888;0.37765043589977581595;-2.2169192881839951959;0.87569292046725266676;1.7928909838832207679;-0.27622967425748023995;-0.79624593731222115256;2.2467228084146171341;-1.7786793286621083165;-0.46104277498613649433;-0.60612386476959223547;-3.1326302328384802998;0.11871163819923942484;-1.8432924340751735137;2.472979055280138283;0.24099065426781426935;3.8301524308796652818;-0.28678879348553393269;-8.1285229826012415089;3.3727414556864716566;0.1236879467011966216;2.019543385431208371;0.98621223639746025125;3.3752553046581796892;-1.7295813540361864025;2.9043017228699423704;2.2684134597863714333;0.4635234154456754907;-2.6637457360200245127;-7.8395128740210999752;1.7454926996472872602;-15.461245739147866374;-7.4785005243680942044;5.7399014122825153805;4.5989382544942811748;6.6633652954745281605;-4.4638812679662445149;3.7982636267002933828;-2.5223309349574165594;-0.37254330548860103978;2.7567794275875052712;3.5001708702257623429;-7.5494220238239178045;-3.9071307336067517824;0.72065042309719617997;-4.1413608725659836196;-0.51089862394081941854;-5.8154450116286300343;3.8415127189632150007;10.892077746287569084;7.1943501843349046965;-5.2537604145586449533;-2.636049817910850912;2.044450336434080473];
IW1_1 = [4.2929115230631831324 2.2777582449664914854 1.8785592308740572953 1.0079540310304146988 -5.9276453977120944216 3.567343469340361839;1.4083608061125725275 0.3587264770600706032 -1.7295574088960814496 0.82528422217673047534 2.7125483586789260748 0.06137466513819035685;-0.61518850257361312739 1.7878165883826189209 -3.8903259042325113448 1.9239813000119978526 0.90217372687473940118 -1.0332076511856884693;-0.86201476093482398699 -2.7223592108812519896 1.2565651717886827665 -7.5408784751096211707 4.0300716242256582333 6.2359737415184879339;2.3330608444622691344 0.87892785874346812669 4.5153751145531364486 -0.97267050762569329247 2.8765152154989159783 1.120654080490664839;-0.86234621090565399815 -1.0876382305607286138 -4.9687277071527944372 2.8713491531228165776 2.3113784918027278081 -0.33627117401412048858;0.83526031163981206973 1.312994351016853356 -1.8608887823685664742 -1.5246487309863305804 0.94827878741698878873 1.243433759857919263;-0.30061805146975500991 0.91129497705299022936 4.1981822537055757394 1.1323362774180274481 -1.2024173083474061219 -0.016050236860255605309;1.7393024068896167922 -2.6723949962814628201 -2.2519498139581157758 -2.6796680828055805534 -2.9190073021329845382 -1.5281574704540665799;-1.0516713624595512844 -1.8643819659592886229 -2.4785145139714868101 -2.6305502543008199012 1.0428489104509011121 -1.9140591247741272074;1.2120766816190686743 -2.8361802803468756373 2.3454631028707462193 -1.7919377272123944156 -0.2691317046429277382 0.94213673359299743293;-0.73842624826934466498 -4.4396931228588432106 1.5039931126516952187 1.6335650291852596983 -1.8794777104445687943 1.5329473980192229732;-1.6179706951936823067 -1.1820117993998655592 -3.3201216878453649883 4.739899639047341573 -2.869084690759427847 -3.516088897954077197;0.042483404795942286691 -1.6470886059167788584 -2.1743098389662129932 3.5660929300473545034 1.5450068641366925259 1.6442350689303966149;0.35879931558664773794 -2.7857334200979204653 0.3811340416517475238 -4.0593400290423877763 -0.88474938461338370477 -0.56169924235787860312;0.3007035296628791099 -2.9724009769806678527 -0.27397968767278135793 2.542427798194506483 1.998222136044846664 2.1839893759590687239;-0.92398809630841682861 1.7818158698783805871 1.2204149691556527291 0.32676743386661416535 -1.2908760115068218521 -1.8029647546772056277;-0.71741374024839843493 -4.2251995320851873927 1.5202448218678974445 1.5094868864670174524 -1.9187128564554214449 1.5247885692205371821;0.14745418217014483186 1.3351624047309700316 0.37351285161475722418 0.076841193956252190622 -0.88396414258694255839 -1.2011468748773881376;-1.5691485691046309636 3.2415282759089989462 0.13510736003553869278 0.74216855589415953176 -2.9855003041578962453 -5.4954896291450960888;-0.50578347135293200143 0.65803559826416468947 -0.85109746604145342097 0.10578052157854916926 0.0025037767806031126228 0.32706132131627324577;-0.54810462135079174306 -0.7379376885995829749 1.013991827248054145 -0.74938598677322443287 -0.51659643419562339961 0.02685856362582478285;1.9352419044731108411 -0.83927522524203157506 -8.8333220078841385714 4.1175259742603644852 2.2703170588147498776 0.11663428417757673583;0.12405220380421906612 1.4165905377398444465 1.5105377799664680971 -2.3796396506131718418 -0.84919067882831633653 -1.3277592142825938026;-0.35644133116875093004 -1.548523166902292969 2.0868252617338294286 1.9855321629584556931 -1.4043960074075454436 -0.8309785498930555292;-1.8445408911358252002 0.47730459737812785947 -2.0630070883466569143 0.114739965051022616 1.0625323515759999005 2.9991779737284471885;-2.4934625118689588419 -3.8599805889472338372 -3.7436476829690641388 -1.3720155111733400854 -3.0664019702173481718 -0.38962356536436176802;-2.3647601102899700187 -2.2607552433079272092 -1.1691114641422024611 4.3878493984582167542 -1.3756679468072388062 -3.939188585020259481;-0.5872211908975585315 3.7687948994894897581 -0.80015214101001042035 5.3900304268400933694 0.90171698389139520735 0.93049452360166728937;-0.24891552714210996022 2.5105228722327992408 2.0036555882811346585 -1.4540487845353056162 -1.4078727224088829484 -1.078932105161755306;-0.84837380876610934965 -0.92338104077640914547 0.87405903424009012692 -0.10745189650584180407 -0.78262594960621134632 -0.48974257313295532779;2.6737584079110838786 -2.6375875044299057492 1.065993174892569284 -6.6445046380930836705 -5.5219546658660911831 0.86914815784939314369;3.1654751754064545111 -0.79940361799408676813 2.2882642682761398234 -2.5889045147758298349 -5.4399839276472707894 0.2297225428727034946;-0.14992685529773625008 -0.15478731468381523584 0.46266753843654873091 3.5852118546538829236 0.80974584555126838392 -1.4049414154858332893;-0.37250947231658787517 -0.47216082330577624493 0.79987534529738824052 -0.77784819637332025533 -1.1275781711346286595 1.0498512381150313377;0.53559386054150226464 -1.1064505700996341009 -0.31209640419090600716 1.8335925936938115566 1.6851710490042575152 1.2944286560389355323;-2.2921519083806849437 -0.90869598361498549188 -4.5819036469546565726 1.191100664390928543 -2.8068464171214180247 -1.0624466447706035765;-2.935867904997777611 -0.71121753899898809692 -1.126392236784036216 3.6043372697453301967 2.7348731589515247187 -0.70574469661972727419;-0.58631923319250323079 2.0432149522056248792 -1.9060175573742070831 -1.179609421338140729 6.2527997653642461984 -1.8011424146054280104;-1.2400883761025851548 0.51820678406604903099 -0.32784814513633603328 1.9297457977825975828 0.84979904088442381749 2.4633127801996983486;-1.7965794544268820498 0.097484451085745632559 1.6857900472439080186 0.8289343141566415385 -1.7962158340264984258 -1.2662760236857926177;1.145924814364666755 -2.8129411115424600709 -0.56224919733065847893 1.2753076215910505997 -3.7532544637029259249 -1.0857937610394816641;0.94002566489466965471 -0.99506916992240657116 -1.2047517661444826498 -0.81121808795590688579 -0.94840449410687199805 -0.14859022685083889126;-0.48045903396047651146 1.5851714534169771831 2.7222146352295268912 1.4339554455022653912 -1.4962860530627062339 0.53345999237787422587;-1.21351224244239142 2.2903743074051732265 1.3198216409943677174 0.82936444049539259638 -1.4851031132401724122 -2.2950694433152589724;-0.7221585464543467392 1.7502319308660398978 -1.6569150448382206076 -0.84889894831983514489 5.5510552589999342388 -1.7278602070959927506;-1.0776677253243793775 2.3513507821249044483 0.49698169173825318401 -1.0082187503307591392 3.1064772429978697588 0.9334816136186039337;0.61341686799814754139 -1.4630271058887114322 -3.1671746610207489603 -1.3922362295231105467 1.7167181180169408528 -0.15323390490391089469;-2.1114784984765839759 2.126060134003400659 1.7991951251790072597 -3.6083070974672026843 -6.6720795893580495672 4.4115722723010302175;-1.6936195204865127639 0.45595771040339067026 -2.3570544264579118554 0.12254209481874381305 1.0979150787226348296 2.9503613775307679923;-0.95364509465516045239 0.12024532215300796911 1.2407980163941638718 3.5444300910278556671 0.94328601315123716819 -2.0160046924708607818;1.1698843282955757594 -1.6796452367074958811 -0.14457175491070375917 -2.0568763075978240273 -1.2137851348670798401 0.070379870360134613727;0.45858626659347240251 -0.85706334422311936105 0.54222134620630368929 -0.46838337785561756643 0.18126163024931837842 0.08304210935012805439;3.6575675930227289356 0.048749908466725520861 -2.5396675125517451654 1.3122530495052988631 0.67658990506803406983 -1.1203615348258635365;-1.8689810220723377387 -0.98159944568029233736 -0.2283349630698106314 1.0340745049159596469 -2.5918160153599925088 0.16675339803894823065;1.667121182200735463 0.20190171621728142393 -1.7067635510889402894 -0.77019233278852250457 1.4309099581429156611 1.3032493750490208306;-1.5284251673746636069 0.97679832504685515371 1.6759093477818522988 0.85429768115193494005 1.8043836972837841159 2.0725718150619729663;-1.2917590120068129789 1.0556110829724119071 2.1602681640148269082 -3.0620835509868133961 -2.7858196520131186524 1.0072444927329806674;0.034645393490496334543 0.74301556176227778749 -0.86955249554357694208 1.0036123264044780612 1.8530547099017378176 1.0309970448627023831;-1.1409998140338317718 0.034107411667535392219 -2.8376190583051972283 -1.7737082666667502995 -1.9937841059058545312 1.8676026927618123441;1.6567850913931889689 2.5036150962020542465 2.1989427588289740534 2.185157454674858446 3.2228937192685300772 -2.4022144947292818351;0.68287286860988016812 1.31033782175026281 -0.3980319817957151951 -1.1161719269701964041 1.1166765774438254244 2.0309991015828501304;3.3874324982169041753 0.70544544904938866203 -0.44691198988468933129 4.2157315555683734232 2.8665262216097575632 -1.9298793133544949185;1.193700787973593247 1.1412776394150252468 -0.044893291460688100614 -1.132260295599027744 -1.4265968268713180578 0.90889737204456799713;-4.3521998174092777489 1.4015558139756976175 9.74348395602755879 -5.7740899572302941678 -11.535854805706897253 8.5853391230657898348;1.9337661242363439751 2.4197170700186574344 0.077360818356627419901 2.9834596696921868997 3.0361519795568501223 -2.0627009090645631595;0.4631977447458185404 -1.8564077972608301614 -2.7185976539817935382 -1.4162373795034965962 1.4760244322368267778 -0.80878816236696426945;1.1220852808808008394 -0.50798610344638450709 2.4259233694813944204 2.2816725981855121574 1.5893380147355389287 -1.5698257676461022658;3.3158421668180100284 -1.0926833810340474962 0.13674732653120480474 -0.41559173373365582149 -0.34568012839614087328 -0.40773906876421162071;0.54908517367221287842 0.7651953141415108739 3.9760054596042517794 -0.56713903622451700137 -0.54406882372652010105 -1.9438963256863985851;-1.0056553399786123393 1.7661061098045445217 2.0307231884427512369 -0.11781693574568688487 -0.54191977385721157301 -0.26486328818462062662;-0.45859765841675692588 2.394825321855987621 -2.1790678562426775144 -1.5828377536899589373 7.3340091633472876964 -1.8000371297811550431;1.8321026562002189486 1.2128350649692656305 0.086979631463194470586 -0.81430123595277903448 2.8284430849538901853 0.44105874806701206303;0.93610879912669309189 -1.018517685284915153 -0.81787108477860037681 -0.9389767173624639085 -0.91769341455760378157 -0.20012921534293903747;-1.9997350702573790659 0.86745953821504406811 0.28950764267519663031 -0.79034013855071671983 1.2050803731004871011 2.1938069611486019639;-6.2460490247039954781 -2.0511416853531079241 -7.4721186108642507762 -6.3116226264709398563 0.81993062005437133966 1.0643804121201487778;2.4308578990490690153 -0.16614501740417650377 -1.2681981026527362477 0.95492609664236915989 -0.19222333829540827477 -1.4475784324585676544;-4.837756408408111497 15.533285179278275123 -3.3791068816003058117 0.56657089832167595311 0.4641838920283994363 3.1712798822201997417;-6.0875042298149928399 -1.8522994997909960624 -7.5482796094116126895 -6.1645229390029303573 1.2971289904949552252 2.185609824395532641;0.85127102747992000609 2.9265863634880715516 -0.7684569084647343562 6.6411429760514861798 1.8583485999476785366 0.14992239875458165943;1.2952432583553039613 2.5486186263183454592 -0.14566533024917949213 0.79430539110827858007 2.4447546011415264289 1.5346314939227312379;1.8520090751675193363 -1.3359426310691704387 -0.25222172475243065382 5.5966088808578575708 1.846034647944043261 0.48180492263340934933;-4.3970592593417041627 0.027067205105055051895 0.36484415475494097469 -2.6503081217954860271 -1.0118941993535366386 -3.5723438952761630283;0.76822192450504733774 -0.63320242126758752299 -4.3759820196039758144 -0.63549916846867304798 0.72642385216472249443 -0.10291723220741559597;-1.3996415947782641087 0.85885623670257948969 1.2895293502047444623 -3.3982723959847782602 -0.58897607685004038647 1.9912782667801693925;-0.17429958594200029021 -0.70999164730409125568 0.27014387394995631464 0.43193913504079767263 0.15519740435398698963 -0.76930432935568404673;1.513448586011292285 0.35514088983292585455 -1.223999036983881572 -1.2858040492180338177 -1.2873497313784107998 -3.0574922559198070005;-0.37977200805316146948 -0.95077229629226911456 -3.0365840283942970856 -1.1549452719628705566 1.3345531136483617107 -0.14334554259063678194;-6.0879102288767859008 -1.7852208912109550631 -7.2494747728708066603 -6.1439822907331880231 0.97276954521199732184 1.5032386867310978396;-1.1123043745162388696 -0.95856897613032598926 -4.666131664136058177 1.1977169347411587008 1.1770139957082821347 3.0074295898557039664;2.1762004795943026281 -0.13771927265619215985 0.19267478944395274865 -0.40839920266284396311 -0.29209230543802877644 -0.74168709515115260889;-2.3090755752972693671 0.17854273345556315178 1.9609663142995539253 -2.8546607071948391088 -0.21336978317190555265 0.99440500492046590697;-1.5965219295785166853 0.97245539227434785179 1.4689283062368463373 1.0160702259188263419 1.8912218918908407783 2.2644555341722618635;-4.3123524562486599265 1.6696856002503752681 1.3402511607119054204 -2.4886541134477622172 1.8470530007908541048 4.0705894379434441888;-0.71388296762757219582 -0.61167035261052549178 0.22419539946261127228 4.0730267061996041633 2.3087858339087152793 -0.64424104062665143999;2.4511199295113539343 -2.7219391266125896323 2.9645138697404718187 -1.0231261441482086827 8.1556107003801727728 -0.85707568709681258845;-2.1006897544019569324 1.7622188528661155704 -4.1719245511400027127 2.8126842163839853583 -2.9654956497409394878 -9.3567687997700534908;-1.4790905701791203786 -2.3596967341315884248 4.7705949965997866968 -0.69857881249989262074 -0.083940226179613747215 0.10181066816616220205;-1.0390273593601462299 -1.0512192228931678262 -0.11018295508123622517 0.44666664084124563239 -3.5271538481730670966 -0.25251147871382617627;0.84142480179500478421 0.64138775785218049563 2.1202997478596028458 -3.2949438398018346952 0.71135840898432189938 -3.0889488062421435188];

% Layer 2
b2 = [0.53452703641794729883;0.34324513205456758103;-0.043672481425719264503;-0.44039398203643437268];
LW2_1 = [0.090144367709708420056 -0.31492993729144563853 -2.0682546223317403999 1.0248480985615910921 1.6491819437163235396 2.0755990309847258679 1.1634933600065571202 3.6241992122936887988 0.43704123234513903018 2.2017310338441524742 -2.7305057255749525247 -1.8543205847008590315 -0.021024571190340696908 2.6199097613349655589 -3.6875424767846052276 0.90851849178285515318 2.6545025196752112251 1.9191322721649659577 -0.85070316534147527587 0.17007402421716566465 1.2228354658860045578 -0.054169608350868717062 -0.71492574383489415624 4.5948267120338375236 0.72714640899201110624 -1.5560810399871103371 -0.014894683462950867453 0.05326030938465819986 -2.2278984699324366758 -1.1769134903929274749 -0.76409284969069624083 -0.49948632469963050173 0.3151843940331190419 0.90044396968585027619 1.7963294452799978274 -1.5493172833771695629 1.6969593312500159676 0.54966865830082090039 -0.19555712567184646566 -0.2394338524985163974 0.49737644382112500274 -0.42191323109105027811 2.6720919241364571306 2.9785735815222662559 -1.7584392233301180397 0.21606160083568468067 -0.63765524550855989805 1.4825806349800640938 -0.2113781024252872065 1.6572998785400887556 0.27197869617090825178 -1.0734914546195479801 2.1580243224361348453 -0.12090411903199053956 -1.4581963420892889438 0.5801789358313899081 -1.8507011367389709644 -0.69160199199804861525 -0.43379363727306025078 -2.9107832498502865803 -0.58776134959676462621 0.4414751308550476927 0.78420628695977945277 1.3170596910452501138 -0.46543671946872178236 -0.75291464927365581161 1.39780546887129975 -2.7456349885151878354 0.13188552518620230702 -2.8510656024816509735 1.2453838424847976096 0.0053073526675427862287 -2.2710255222884603299 -3.0558285500331625606 -1.4881506134698250232 1.1297165023053934441 0.50326919493324728805 0.18508723007618346768 1.6892327184398434614 -1.0291256421345114092 0.079611160372056927192 -0.34842124935352364323 -0.22545503743263783925 2.4510969507882274243 1.0367627835241381984 1.6727629770186196456 -1.3715077624071836393 0.57538236905354378514 -2.7251853114029951364 -2.3214089710465413141 -0.34880182828646122406 -1.1371433278621991825 1.6266590105818139467 0.6466564002482155793 -0.20805740545951412201 0.2340082350877643047 -0.064708795703168578428 -0.055081281379086050043 -1.050405327401130906 0.23517580166614465709;0.66789822594163783531 -0.16422908293550358971 -0.333584670133649841 0.34367295241609635559 -1.3893234577077611114 0.7999100205150762033 -0.37212531726178582625 0.57576992142479099801 -0.23980494286921943958 -0.95559764509145517231 -1.1480333189625695489 -0.87676767062267835229 -1.1437963599416578475 0.82079553900088320084 -0.51598469746510156053 0.51824571817576370325 0.87664692124357235237 0.93683220072203654549 -0.30146026767585554218 -1.1730550077861034985 -0.91316930028786480467 -0.50675003376257554688 -0.0076975408824736732405 0.83437991036135217282 -0.1513271594247267704 -0.010364151789244161611 0.0051453688768387031982 1.1615428433906287431 -0.46002889259005597111 0.40048996115415241848 -0.5632687906269718825 0.33308519503341427193 0.033793557778538797776 -4.9978520733543083665 0.037298796614648452308 -0.25912169244541288782 -1.4157814747681196632 -0.10376658151036186051 4.4308978319369263232 0.090902093740800937738 -2.1301157487683060054 0.2875440134623856725 -0.714263546840612773 1.0178327142842371611 -0.5495949807145705801 -2.8019790034833307324 0.3749027082822745105 0.31376062469513277264 -0.13307384818677214788 -0.010321299863815941444 2.8066590910617414956 0.12817343718195409186 -0.78642354853060136843 0.91002944721981293696 -0.71630897795554726581 -1.9320465761657321657 1.1217816344650701765 1.8100299913717483591 -0.20947359178943283919 -0.83462004809262035909 -0.53755909036555704628 -0.7092514522945223554 0.13464925793059087655 -0.5592037754008636341 -0.77469331223505777384 0.76232990814446566219 0.73940402923332648744 -0.72305486964044485276 0.028513571900589711888 0.93392922334180838995 -0.46037860876935982057 -1.7559052838075293046 -0.39653572381310059347 0.67936874259041690749 -4.2046895494599318965 2.8586113165241844314 -2.2252961574886183094 0.58422817465224585742 2.8537936123687690504 0.1810567635668412223 0.18601992687833587836 -0.97328814071083702419 -0.065625153335425873147 0.10563358419427425205 -1.9084500942966646786 -1.0912054262491386325 -0.18004423842963557245 0.49691366603580844341 -5.6777280033666182035 0.568109758937657916 -0.16405074779179362743 -2.4240499902371164254 -1.0219213143560561541 2.5921497834125717397 1.055343197130032884 0.83847168775405722663 0.7725870770105656149 0.81084600727917266472 0.31890496060761019947 -0.89541186590655219568;0.14118415891033961329 -0.41507405774076516769 -0.75000872324300993377 0.154520155171611967 -0.36541480271448301131 0.34803781933384247971 0.30663623067242640197 1.8368826688420762938 0.10721792769931560996 0.83647723954359809451 -0.80738112636489467455 -0.59214070656322492781 -0.21997897446863909354 0.3868442445605227431 -0.89149591306244724276 0.42681220922669421691 0.50499962769205752888 0.60348734046889984661 -0.14232193245655044844 -0.11008365387753867026 -0.37651875869310896805 0.37684932055616487956 -0.04428346267992443186 0.87565109177274735863 0.16257812741521746047 -0.55759360870346552641 -0.035996187902825563243 0.15375270167307741875 -0.62916841426494052314 -0.11947750078479890679 -0.93446266533307387192 -0.088884222767596637871 0.055320629624055504825 -1.2116267388749102363 0.080881664821656928943 -0.27825371746134691664 -0.38608018779265063092 0.094572444740142133646 -0.2878017725145516903 0.18087199079006405222 -0.15658893717163480108 -1.052745245173025479 0.21412044994295692524 -0.94312077109752856519 -0.50916149716852676654 0.10302409948892563007 -1.3081248296794529828 -0.18486819962644734927 0.039302670159597125066 0.60754415274229911503 0.88067004503682599914 -0.08851475221668306248 -0.59769009458050037509 0.11180365101880014589 -0.28817656117924494996 -0.30172625165331840025 -1.1124562753918922908 -0.011933163906704822438 -0.067477802959093502455 -0.67861695631950802454 -0.15394777059961237131 0.16624992489353998537 0.23722866124474145666 0.1954450829837256487 -0.57051370154713643146 -0.20659844540857993933 -0.74534196048360557008 -0.49555190117329039889 -0.51882103351317654383 -0.26139560201190692457 0.42493130389382843815 0.1624620546992174841 -0.17703537270218003274 -0.035807390130947205908 -1.3276448104034672681 0.010625557511309186715 -0.26038173686146376395 -0.048459228129789436168 -0.13197736677816512829 -0.16336710016044708738 0.16170268828635642189 -0.34819007199178153567 0.0047000913275714456541 1.0795852555930993688 -0.09396865895121465917 0.92316641401666610367 -1.1575753356624649548 0.60151218562057695571 0.17616557832054297039 0.13719196903224006867 0.68865328470327114019 -0.79072407931652322066 1.2089001307369344751 0.82463775632256297587 0.19293587406793705208 0.30834884426069131269 0.19832787795849809998 0.32420060682001028418 0.027033230467963728638 0.51315815651432794553;-0.18806827862724528888 0.31854351443283901446 0.73419780592696959332 -0.37670043808993480816 0.0021450330887006546429 -0.66789817536689599642 -0.49041046985978381523 -1.6686317227558060683 -0.10536786804578955612 -0.71789609531264630959 1.0829853756431258027 0.60648777263141118166 0.25827997199898089509 -0.86272242796690767896 1.3349587000007858695 -0.46422362031554070816 -1.0230427234670413927 -0.64194593692292489795 0.3457838893773856892 0.13387681297399761648 0.21299197504352879173 -0.14220714452333871325 0.15902802430430201808 -1.6351925038725987349 -0.33479279839066572455 0.60001065242848405923 0.011586536153594617637 -0.34236403307231416671 0.83886383881951465114 0.30211957310694292911 0.71837233236968112138 0.086110424745040811678 -0.097132376535025585773 1.0515562626754668685 -0.7037813188388696295 0.56076495009518945167 -0.00080150103020647407714 -0.16599888380641025787 -0.86059186613659488518 -0.011722786434743424216 0.14439521987737480302 0.73673867608439691512 -0.6084685501195656876 -0.6278026306173271065 0.76916501344623466885 0.54538188149988964248 0.9201421702841589001 -0.30988408602813505288 0.12108000282132813652 -0.64724584763346260097 -0.92983901005180580324 0.31306493577692279251 0.15061681713055122267 -0.11839529691023784053 0.65141230588348741914 0.14066721624364622589 0.67273813952816152728 0.25797320889943697875 0.17213443572367598255 1.3747619560902406555 0.32876849158889548397 -0.13956928983462243976 -0.30469373607835820161 -0.40165052908598886106 -1.0034943886524532175 0.14541857143203143488 -0.30756828092297655575 1.2456965351262996311 0.2277406489462359962 0.66381060667499836025 -0.42639778565089941909 0.33252660957613638937 0.80320646866049016932 0.6877786639609456687 1.0340723256789374762 -0.73999022624576293872 0.19744832530636707846 -0.13765473957894255874 -0.8702837839917723084 0.36614987474119775612 -0.10154989269888457792 0.23752680496518185915 0.060271752264083419681 -1.0224142138200069674 0.028011893942460442536 -0.77750135165094591549 1.0157406461155602528 -0.51201108979453857639 1.5542529203346038269 0.4353692641888213255 -0.28732121665909426955 0.875344390812811457 -0.68389642457953681021 -0.63255967216412789522 -0.17463954613012308559 -0.21869683710167428514 -0.15841698604085865942 -0.22201842338283883649 0.27099255965085999875 -0.023226727436531785509];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.42706180105189;1.56828427348055;1.99631878815464;1.23231322444614];
y1_step1.xoffset = [-0.762759;-0.679394;-0.556332;-0.992793];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
